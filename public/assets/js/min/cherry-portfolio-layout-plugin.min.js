!function(t){var o={init:function(o){var a={call:function(){}};return this.each(function(){function e(){0==t(".cherry-portfolio-ajax-loader").length?(y.append('<div class="cherry-portfolio-ajax-loader"><div class="cherry-spinner cherry-spinner-double-bounce"><div class="cherry-double-bounce1"></div><div class="cherry-double-bounce2"></div></div></div>'),x=t(".cherry-portfolio-ajax-loader")):x=t(".cherry-portfolio-ajax-loader"),x.css({display:"block"}).fadeTo(500,1),t(".portfolio-filter",h)[0]&&(z={order:t(".portfolio-filter",h).data("order-default").toUpperCase(),orderby:t(".portfolio-filter",h).data("orderby-default")}),n(S,T,z),R=Math.ceil(parseInt(t(".portfolio-list",y).data("all-posts-count"))/parseInt(w)),P=R,i()}function i(){switch(t(".portfolio-filter > .filter a",h).on("click",function(){t(this).parent().hasClass("active")||(t(".portfolio-filter > .filter li",h).removeClass("active"),t(this).parent().addClass("active"),S!==t(this).data("slug")&&(T=1),S=t(this).data("slug"),n(S,T,z))}),t(".portfolio-filter > .order-filter",h).on("click","li",function(){var o=t(this);o.toggleClass("dropdown-state")}),t(".portfolio-filter > .order-filter",h).on("click",'[data-order="order"]',function(){var o=t(this),a=o.data("desc-label"),e=o.data("asc-label");o.hasClass("dropdown-state")?(t(".current",o).html(e),z.order="ASC"):(t(".current",o).html(a),z.order="DESC"),"more-button"==k&&(T=1),n(S,T,z)}),t(".portfolio-filter > .order-filter",h).on("click",".orderby-list > li",function(){var o=t(this),a=t(this).parents('[data-orderby="orderby"]'),e=(a.siblings('[data-order="order"]'),o.data("orderby"));a.hasClass("dropdown-state")&&a.removeClass("dropdown-state"),t(".current",a).html(o.html()),t("li",a).removeClass("active"),o.addClass("active"),z.orderby=e,"more-button"==k&&(T=1),n(S,T,z)}),k){case"ajax-pagination":t(".portfolio-pagination > ul > li a",h).on("click",function(){l(t(this))}),t(".portfolio-pagination .page-nav .next-page",h).on("click",function(){s(t(this),"next")}),t(".portfolio-pagination .page-nav .prev-page",h).on("click",function(){s(t(this),"prev")});break;case"more-button":t(".portfolio-ajax-button .load-more-button a",h).on("click",function(){c()})}jQuery(window).on("resize.portfolio_layout_resize",function(){f()})}function n(o,a,e){var i={action:"get_new_items",value_slug:o,value_pagination_page:a,post_per_page:w,loading_mode:y.data("loading-mode"),list_layout:y.data("list-layout"),order_settings:e,template:M,posts_format:I};d(),null!=g&&ajaxRequestSuccess&&g.abort(),g=t.ajax({type:"POST",url:portfolio_type_ajax.url,data:i,cache:!1,beforeSend:function(){ajaxRequestSuccess=!1,x.css({display:"block"}).fadeTo(500,1)},success:function(o){ajaxRequestSuccess=!0,t(".portfolio-pagination > ul > li a",h).off("click"),t(".portfolio-pagination .page-nav .next-page",h).off("click"),t(".portfolio-pagination .page-nav .prev-page",h).off("click"),t(".portfolio-ajax-button .load-more-button a",h).off("click"),t(".portfolio-pagination, .portfolio-ajax-button",y).remove(),beforeItemLength=0,b=t(".portfolio-list",y),L={itemSelector:".portfolio-item",resizable:!1,layoutMode:"masonry",masonry:{columnWidth:Math.floor(t(".portfolio-list",y).width()/u())}};var a=t(".portfolio-item",o),e=t(".portfolio-pagination",o),i=t(".portfolio-ajax-button",o),n=t(".portfolio-list",o).data("all-posts-count");switch(R=Math.ceil(parseInt(n)/parseInt(w)),C){case"masonry-layout":case"grid-layout":t(".inner-wrap",a).css({margin:Math.floor(.5*_)}),t(a).css({width:Math.floor(t(".portfolio-list",y).width()/u())}),b.html("").isotope(L).isotope("insert",a),y.append(e),y.append(i),b.imagesLoaded(function(){b.isotope(L),p(beforeItemLength),jQuery(window).trigger("resize.portfolio_layout_resize"),x.fadeTo(500,0,function(){t(this).css({display:"none"})})});break;case"justified-layout":b.html("").append(a),y.append(e),y.append(i),t(a).each(function(){var o=t(this),a=o.data("image-src"),e=(o.data("image-width"),o.data("image-height"),o.data("image-ratio")),i=Math.round(100*e),n=Math.round(j*e);t(".justified-image",o)[0]?(new_height="auto",t(".justified-image",o).css({width:"100%",height:j,"background-image":"url("+a+")"})):(new_height=j,t(".inner-wrap",o).css({"background-image":"url("+a+")"})),o.css({width:n+"px",height:new_height,"-webkit-flex":i+" 1 "+n+"px","-ms-flex":i+" 1 "+n+"px",flex:i+" 1 "+n+"px",margin:Math.ceil(.5*_)+"px"})}),b.imagesLoaded(function(){p(beforeItemLength),x.fadeTo(500,0,function(){t(this).css({display:"none"})})});break;case"list-layout":b.html("").append(a),y.append(e),y.append(i),b.imagesLoaded(function(){p(beforeItemLength),x.fadeTo(500,0,function(){t(this).css({display:"none"})})})}switch(k){case"ajax-pagination":t(".portfolio-pagination > ul > li a",h).on("click",function(){l(t(this))}),t(".portfolio-pagination .page-nav .next-page",h).on("click",function(){s(t(this),"next")}),t(".portfolio-pagination .page-nav .prev-page",h).on("click",function(){s(t(this),"prev")});break;case"more-button":t(".portfolio-ajax-button .load-more-button a",h).on("click",function(){c()}),t(".portfolio-ajax-button .load-more-button",h).slideDown()}h.trigger("ajax_success"),CHERRY_API.cherry_portfolio.magnific_popap_init()},dataType:"html"})}function r(o,a,e){var i={action:"get_more_items",value_pagination_page:o,value_slug:a,post_per_page:w,list_layout:y.data("list-layout"),order_settings:e,template:M,posts_format:I};null!=m&&ajaxRequestSuccess&&m.abort(),m=t.ajax({type:"POST",url:portfolio_type_ajax.url,data:i,cache:!1,beforeSend:function(){ajaxRequestSuccess=!1,x.css({display:"block"}).fadeTo(500,1)},success:function(o){ajaxRequestSuccess=!0,x.fadeTo(500,0,function(){t(this).css({display:"none"})}),beforeItemLength=t(".portfolio-list .portfolio-item",y).length;{var a=t(".portfolio-item",o);t(o).data("all-posts-count")}switch(R=P,C){case"masonry-layout":case"grid-layout":{t(o)}a.css({width:Math.floor(t(".portfolio-list",y).width()/v)}),t(".inner-wrap",a).css({margin:Math.floor(.5*_)}),b.append(a).isotope("appended",a),b.imagesLoaded(function(){b.isotope(L),p(beforeItemLength)});break;case"justified-layout":b.append(a),t(a).each(function(){var o=t(this),a=o.data("image-src"),e=(o.data("image-width"),o.data("image-height"),o.data("image-ratio")),i=Math.round(100*e),n=Math.round(j*e);o.css({width:n+"px",height:j,"-webkit-flex":i+" 1 "+n+"px","-ms-flex":i+" 1 "+n+"px",flex:i+" 1 "+n+"px",margin:Math.ceil(.5*_)+"px"}),t(".inner-wrap",o).css({"background-image":"url("+a+")"})}),b.imagesLoaded(function(){p(beforeItemLength),x.fadeTo(500,0,function(){t(this).css({display:"none"})})});break;case"list-layout":b.append(a),b.imagesLoaded(function(){p(beforeItemLength),x.fadeTo(500,0,function(){t(this).css({display:"none"})})})}h.trigger("ajax_success"),CHERRY_API.cherry_portfolio.magnific_popap_init()},dataType:"html"})}function l(o){o.parent().hasClass("active")||(t(".portfolio-pagination > .page-link > li",h).removeClass("active"),o.parent().addClass("active"),T=o.parent().index()+1,n(S,T,z))}function s(t,o){switch(o){case"next":T++,n(S,T,z);break;case"prev":T--,n(S,T,z)}}function c(){R>T&&(T++,q=!0,T==R&&t(".portfolio-ajax-button .load-more-button",h).slideUp(),r(T,S,z))}function p(o){function a(t,o){setTimeout(function(){t.removeClass("animate-cycle-show")},o)}var e=1;t(".portfolio-item",y).each(function(){t(this).index()>=o&&(a(t(this),100*parseInt(e)),e++)})}function d(){function o(t,o){setTimeout(function(){t.addClass("animate-cycle-hide")},o)}t(".portfolio-item",y).each(function(){o(t(this),50*parseInt(t(this).index()+1))})}function f(){switch(C){case"masonry-layout":case"grid-layout":var o=Math.floor(t(".portfolio-list",y).width()/u());t(".portfolio-list .portfolio-item",y).css({width:o}),t(".portfolio-list",y).isotope({masonry:{columnWidth:o}});break;case"list-layout":}}function u(){var o,a=t(window).width(),e="large";switch(a>=1200&&(e="large"),1199>=a&&a>=768&&(e="medium"),767>=a&&a>=481&&(e="small"),480>=a&&(e="extra-small"),e){case"large":o=v;break;case"medium":o=Math.ceil(v/2);break;case"small":o=Math.ceil(v/4);break;case"extra-small":o=1}return o}o&&t.extend(a,o);var h=t(this),g=null,m=null,y=t(".portfolio-container",h),b=t(".portfolio-list",y),x=null,v=y.data("column"),w=y.data("post-per-page"),_=parseInt(y.data("item-margin")),k=y.data("loading-mode"),j=y.data("fixed-height"),C=y.data("list-layout"),M=y.data("template"),I=y.data("posts-format"),L={itemSelector:".portfolio-item",resizable:!1,masonry:{columnWidth:Math.floor(t(".portfolio-list",y).width()/v)}},S="",T=1,R=0,P=0,q=!1,z={order:"DESC",orderby:"date"};e()})},destroy:function(){},update:function(){}};t.fn.cherryPortfolioLayoutPlugin=function(a){return o[a]?o[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method with name "+a+" is not exist for jQuery.cherryPortfolioLayoutPlugin"):o.init.apply(this,arguments)}}(jQuery);